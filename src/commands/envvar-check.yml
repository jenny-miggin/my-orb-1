description: >
  This command checks an env var and echoes it
# What will this command do?
# Descriptions should be short, simple, and clear.
parameters:
  project:
    type: env_var_name
    default: CIRCLE_PROJECT_USERNAME
steps:
  - run:
      name: echo the param
      command: echo ${<< parameters.project >>}
  - run:
      name: echo if matches
      command: |
        if [ ${<< parameters.project >>} == "jenny-miggin" ]; then
          echo "it matches"
        else
          echo "it doesn't match"
        fi
  - when:
      condition:
        equal: [ jenny-miggin, << parameters.project >>]
      steps:
        - run:
            name: the when condition worked
            command: echo "this also matches"
